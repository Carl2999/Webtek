<!DOCTYPE html>
<html>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <link rel="stylesheet" href="Historie.css">
<body>

<h1>Historie flashcard om korstogene</h1>
<h4>Af Benedicte, Carla og Freja 2022y </h4>
<div class="Mother">
  <h3>Årstal:</h3>
  <p id="Årstal"></p>
  <h3>Begivenhed:</h3>
  <p id="Begivenhed"></p>
  <h3>Holdning:</h3>
  <p id="Holdning"></p>
  <h3>Rating:</h3>
  <p id="Rating"></p>
</div>

<button type="button" class="button" onclick="ny()">Ny Historisk begivenhed</button>
</body>
</html>

<script>
  let x;
  let data;
  var Årstal = null
  var Begivenhed = null
  var Holdning = null
  var Rating = null

function ny() {
  x = Math.floor(Math.random()*7+1);
  console.log(x);
  genererTekst(x);
  document.getElementById('Årstal').innerHTML = Årstal;
  document.getElementById('Begivenhed').innerHTML = Begivenhed;
  document.getElementById('Holdning').innerHTML = Holdning;
  document.getElementById('Rating').innerHTML=Rating;
}

function genererTekst(x){
  for (var i = 0; i < data.length; i++) {
      if (data[i]["ID"] == x) {
        Årstal = data[i]['Årstal']; 
        Begivenhed = data[i]['Begivenhed'];
        Holdning = data[i]['Holdning'];
        Rating = data[i]['Rating'];
        break; // exit efter loop
      }
    }
}
window.onload = function() {
var xhr = new XMLHttpRequest();
xhr.open("GET", "Database.csv", true);
xhr.responseType = "text";
xhr.onload = function() {
  data = Papa.parse(xhr.responseText, {
    header: true // set this to true if the first row contains the header names
  }).data;
};
xhr.send();
}
</script>